# Phase 4: アルゴリズム最適化 & 仕上げ

## 前提条件

- `work/content.json` が存在すること（Phase 3 の出力）

## 目的

content.json を入力に、X のアルゴリズムに最適化し最終出力する。

## 手順

### Step 1: アルゴリズム最適化チェック

以下の観点で投稿を最終調整:

| チェック項目         | 対策                                     |
| -------------------- | ---------------------------------------- |
| リプライ連鎖 (75x)   | 質問・意見表明が含まれているか           |
| ブックマーク (10x)   | 保存したくなる手順・リスト・数値があるか |
| プロフクリック (12x) | 独自の専門性がチラ見えするか             |
| ネガティブ回避       | 攻撃的表現、押し付けがましい宣伝がないか |

### Step 2: CTA 設計

| CTA          | 狙い               | 例                         |
| ------------ | ------------------ | -------------------------- |
| 保存促進     | ブックマーク 10x   | 「後で試す人はブクマ推奨」 |
| リプライ誘発 | リプライ連鎖 75x   | 「あなたはどっち派？」     |
| プロフ誘導   | プロフクリック 12x | 独自の専門性をチラ見せ     |

### Step 3: 投稿時間推奨

| 時間帯 (JST) | エンゲージメント |
| ------------ | ---------------- |
| 7:00-9:00    | 高い (通勤)      |
| 9:00-11:00   | **最高**         |
| 12:00-13:00  | 高い (昼休み)    |
| 18:00-21:00  | 高い (帰宅後)    |

### Step 4: 禁止事項チェック

- 外部リンクがメイン投稿にないか
- ハッシュタグ3個以上ないか
- 攻撃的トーンがないか

### Step 5: 最終出力

- `output/post.json`: X 投稿データ（テキスト、ハッシュタグ、投稿タイプ、推奨時間）

### Step 6: ユーザー承認（BLOCKER）

`AskUserQuestion` で投稿内容を提示して承認を得る。

## 入力

- ファイル: `work/content.json`
- ファイル: `work/strategy.json`

## 出力

- ファイル: `output/post.json`
