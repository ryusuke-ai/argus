# ダイアログ生成依頼

## シナリオ情報

scenario.jsonの内容を参照してください（contextとして渡されます）

---

## 品質基準：具体性と深さ

### 最重要ルール：「抽象→具体」の原則

**すべての概念説明には、必ず具体的なシーン・数字・ツール名を添える**

| NG（抽象的・雑） | OK（具体的・深い） |
|-----------------|-------------------|
| 「コーディング支援ができます」 | 「例えば『ユーザー登録のAPIを作って』と頼むと、エンドポイントの設計からテストコードまで一気に書いてくれます」 |
| 「リサーチを自動化できます」 | 「競合10社の価格比較表を作るとき、検索→情報抽出→表にまとめる、ここまで30分でやってくれたりします」 |
| 「ツールを使います」 | 「SlackのログやGitHubのPRを読んで、今プロジェクトがどういう状態か把握するところから始めます」 |
| 「観察→思考→行動のループです」 | 「まずファイルを読む、次に『この関数を直せばいいな』と判断する、そして実際にコードを書く。これを繰り返します」 |

### 説明の深さ基準

1. **What（何）だけで終わらない** → Why（なぜ）やHow（どうやって）まで踏み込む
2. **箇条書き的な羅列を避ける** → 「→」で繋げた表現は会話で噛み砕く
3. **専門用語は必ず言い換える** → 「状態管理って、途中まで何をやったか覚えておくことです」

---

## Few-shot例：良いダイアログ vs 悪いダイアログ

### 例1: 概念説明

**❌ 悪い例（抽象的・浅い）**
```
tsukuyomi: 「AIエージェントには自律性があります。次に何をするか自分で判断します。」
ginga: 「なるほど、自分で考えるんですね。」
```

**✅ 良い例（具体的・深い）**
```
tsukuyomi: 「自律性って言うと難しく聞こえますけど、要は『次に何すればいい？』っていちいち聞かなくていいってことです。」
ginga: 「普通のチャットだと、毎回こっちから指示しないと動かないですもんね。」
tsukuyomi: 「そうそう。例えばバグを直してって頼んだとき、普通のAIは『このコード怪しいです』で止まる。でもエージェントは、実際にコードを書き換えて、テストも走らせて、『直しました、テストも通ってます』まで持っていく。」
ginga: 「えっ、テストまで？ 自分でやってくれるんですか。」
tsukuyomi: 「やってくれます。ただし、勝手にmainブランチにpushとかはしない。そこは人間の承認を待つ設計にするのが普通ですね。」
```

### 例2: 比較説明

**❌ 悪い例（箇条書き的）**
```
tsukuyomi: 「違いは、ゴール設定、タスク分解、状態管理、ツール連携の4つです。」
ginga: 「4つもあるんですね。」
```

**✅ 良い例（会話として成立）**
```
tsukuyomi: 「一番大きい違いは、チャットボットって基本的に『聞かれたことに答える』で終わりなんですよ。」
ginga: 「確かに、『〇〇って何？』って聞いたら説明が返ってきて、それで終わりですよね。」
tsukuyomi: 「でもエージェントは、『週次レポート作って』って言ったら、まずSlackから今週のトピックを拾って、数字をスプレッドシートから引っ張って、グラフ作って、文章まとめて、最後にレビュー用のリンクをくれる。」
ginga: 「それ全部自動でやるんですか？ 僕が毎週金曜に2時間かけてる作業じゃないですか...」
tsukuyomi: 「そう、そういう『工程が連なる仕事』が得意なんです。単発の質問応答じゃなくて。」
```

### 例3: 活用事例

**❌ 悪い例（表面的）**
```
tsukuyomi: 「活用事例の1つ目はコーディングです。要件整理から修正まで支援できます。」
ginga: 「便利そうですね。」
```

**✅ 良い例（臨場感がある）**
```
tsukuyomi: 「実際に僕がこの前やったのは、『決済機能にクーポン適用を追加して』っていう依頼。」
ginga: 「それ、普通にやったら結構大変そうですね。DBの設計とか...」
tsukuyomi: 「そうなんです。でもエージェントに任せたら、まず既存のコードを全部読んで、『クーポンのテーブルはこう作ります、APIはここに追加します』って設計書を出してきた。」
ginga: 「設計から始めてくれるんだ。」
tsukuyomi: 「で、『これでいい？』って聞いてくるから、OKしたら実装開始。テストも書いて、最後に『マージしていいですか？』って。」
ginga: 「人間がやることって、レビューしてOK出すだけ...」
tsukuyomi: 「そう、判断だけ人間。作業はAI。この分担が効くんです。」
```

---

## gingaの役割強化

gingaは「はい、なるほど」マシンではない。以下の役割を果たす：

1. **視聴者の代弁** - 「それって、〇〇ってこと？」と自分の言葉で確認
2. **素朴な疑問** - 「でも、それって危なくないですか？」と不安を言語化
3. **自分の体験と接続** - 「あー、僕が毎週やってる〇〇と同じだ」
4. **ツッコミ** - 「いや、それ人間いらなくなりません？」と鋭い指摘

**NGワード（多用禁止）**
- 「なるほど」「確かに」「つまり〜ですね」「勉強になります」
- これらは1動画で各1-2回まで

---

## 生成ルール

### 基本ルール

1. **セリフの長さ**: 1セリフ40-80文字を基本に、短文と長文を混ぜる
2. **具体性**: 抽象的な説明には必ず具体例・数字・ツール名を添える
3. **接続の自然さ**: 前のセリフを受けて話を展開する（唐突に新トピックに飛ばない）
4. **専門用語**: 使ったら必ず次のセリフで噛み砕く
5. **動画尺の言及禁止**: 「〇分で解説」等は使わない

### 会話の型を固定化しない

以下のパターンを混ぜる：
- 説明 → 質問 → 回答
- 説明 → ツッコミ → 補足
- 質問 → 逆質問 → 一緒に考える
- 体験談 → 共感 → 一般化
- 概念 → 具体例 → 「つまり」でまとめ

---

## キャラクター設定

### tsukuyomi（メイン解説者）
- 明るく親しみやすい、ちょっとオタク気質
- 専門知識はあるが、難しい言葉を使いたがらない
- 「〇〇なんですよ」「〇〇じゃないですか」など柔らかい語尾
- 具体例を出すのが好き

### ginga（サブ解説者）
- 落ち着いているが、興味があることには食いつく
- 「それって〇〇ってこと？」と自分の理解を確認したがる
- 時々鋭いツッコミを入れる
- 自分の仕事や日常と結びつけて考える

---

## セリフ数の目安

| 動画の長さ | セリフ数 |
| ---------- | -------- |
| 3分        | 50-70    |
| 5分        | 90-110   |
| 7分        | 130-160  |
| 10分       | 180-220  |
| 30分       | 550-650  |

**注意**: scenario.jsonの想定尺に合わせて調整

---

## 出力形式

```json
{
  "mode": "dialogue",
  "segments": [
    {
      "speaker": "tsukuyomi",
      "text": "セリフテキスト",
      "sectionId": "opening",
      "subsectionId": "hook",
      "emotion": "surprised"
    },
    {
      "speaker": "ginga",
      "text": "セリフテキスト",
      "sectionId": "opening",
      "subsectionId": "hook"
    }
  ]
}
```

### フィールド説明

- **speaker**: tsukuyomi / ginga
- **text**: セリフ（40-80文字目安、長い場合は分割）
- **sectionId**: scenario.jsonのsections.idと対応
- **subsectionId**: scenario.jsonのsections.subsections.idと対応
- **emotion**: tsukuyomiのみ（default / angry / doubt / love / thinking / surprised）
