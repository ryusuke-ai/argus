# Phase 4: 最適化 & 仕上げ

## 前提条件

- 前フェーズ (content) の JSON 出力が入力として提供されること

## 目的

content フェーズの出力を入力に、Zenn 固有の最適化を行い最終成果物を JSON で出力する。

## 手順

### Step 1: Topics 最適化

- 3-5個のトピックタグを最終選定
- Zenn で使用頻度の高いタグを優先
- テーマに直結するタグ + トレンドタグのバランス

### Step 2: タイトル最適化

- 技術名を必ず含める
- 具体的な数字やバージョンを入れる
- 検索にヒットしやすいキーワード配置

### Step 3: 品質チェック

- 文字数が 3,000〜10,000文字の範囲内か
- コードブロックの品質
- Zenn 独自記法の正しい使用
- 必要に応じて本文を修正・改善

## 出力形式

以下の JSON オブジェクトを出力すること（ファイル保存は不要）:

```json
{
  "title": "最適化済みタイトル",
  "body": "最適化済み本文（Markdown）",
  "tags": ["topic1", "topic2", "topic3"],
  "type": "tech",
  "metadata": {
    "wordCount": 5000,
    "category": "tutorial",
    "platform": "zenn",
    "recommendedPostTime": "平日朝8-9時"
  }
}
```

## バリデーション

- タイトルに技術名が含まれていること
- タグが 3〜5個であること（文字列の配列）
- body が有効な Markdown であること
- metadata に必須フィールドが全て存在すること
