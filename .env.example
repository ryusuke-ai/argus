# ============================================================
# Argus - Environment Variables
# ============================================================
# Copy this file to .env and fill in the values.
#   cp .env.example .env
#
# All apps (slack-bot, agent-orchestrator, dashboard) load
# from the root .env via ecosystem.local.config.cjs or
# --env-file flag.
# ============================================================


# ============================================================
# Core / Infrastructure
# ============================================================

# PostgreSQL connection string (Supabase) (required)
# Used by: all apps, packages/db, packages/knowledge
DATABASE_URL=postgresql://user:password@host:5432/argus

# Anthropic API key for Claude (required unless using Max Plan)
# Used by: agent-core, slack-bot (inbox classifier)
ANTHROPIC_API_KEY=sk-ant-api03-xxxxxxxxxxxx

# Node environment (required for production)
# Used by: all apps
NODE_ENV=development

# Port for external-facing dashboard (auto-set by Railway in production)
# Used by: dashboard (Next.js)
PORT=3150


# ============================================================
# Slack
# ============================================================

# Slack Bot OAuth token (required)
# Used by: slack-bot, agent-orchestrator
SLACK_BOT_TOKEN=xoxb-xxxxxxxxxxxx

# Slack App-Level token for Socket Mode (required)
# Used by: slack-bot
SLACK_APP_TOKEN=xapp-1-xxxxxxxxxxxx

# Slack Signing Secret (required)
# Used by: slack-bot
SLACK_SIGNING_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Slack channel for general notifications (required)
# Used by: agent-orchestrator
SLACK_NOTIFICATION_CHANNEL=C_NOTIFICATION

# Slack channel for #argus-inbox (optional)
# Used by: slack-bot (inbox handler)
SLACK_INBOX_CHANNEL=C_INBOX

# Slack channel for SNS publishing workflow (optional)
# Used by: slack-bot (SNS publishers, schedulers, suggestion generators)
SLACK_SNS_CHANNEL=C_SNS

# Slack channel for daily plan posts (optional)
# Used by: agent-orchestrator (daily planner)
DAILY_PLAN_CHANNEL=C_DAILY_PLAN

# Slack channel for daily news posts (optional, falls back to SLACK_NOTIFICATION_CHANNEL)
# Used by: agent-orchestrator (daily news canvas)
DAILY_NEWS_CHANNEL=C_DAILY_NEWS

# Slack channel for Gmail notifications (optional)
# Used by: agent-orchestrator (gmail checker)
GMAIL_SLACK_CHANNEL=C_GMAIL

# Slack channel for code patrol reports (optional)
# Used by: agent-orchestrator (code patrol)
CODE_PATROL_CHANNEL=C_CODE_PATROL

# Slack channel for consistency check reports (optional)
# Used by: agent-orchestrator (consistency checker)
CONSISTENCY_CHECK_CHANNEL=C_CONSISTENCY


# ============================================================
# Claude Code Session (Production / Railway)
# ============================================================

# Claude Code CLI session token (required for production deployment)
# Obtain via: cat ~/.claude/session_token
# Used by: Claude Code CLI in container
# CLAUDE_SESSION_TOKEN=


# ============================================================
# Gmail / Google OAuth2
# ============================================================

# Google OAuth2 Client ID (required for Gmail/Calendar features)
# Used by: slack-bot, agent-orchestrator (via session-manager), packages/gmail
GMAIL_CLIENT_ID=xxxxxxxxxxxx.apps.googleusercontent.com

# Google OAuth2 Client Secret (required for Gmail/Calendar features)
# Used by: slack-bot, agent-orchestrator (via session-manager), packages/gmail
GMAIL_CLIENT_SECRET=GOCSPX-xxxxxxxxxxxx

# Gmail address for token storage key (required for Gmail features)
# Used by: slack-bot, agent-orchestrator, packages/gmail
GMAIL_ADDRESS=you@gmail.com

# OAuth2 redirect URI (optional, defaults to http://localhost:3950/api/gmail/callback)
# Used by: packages/gmail
# GMAIL_REDIRECT_URI=http://localhost:3950/api/gmail/callback

# Port for Gmail OAuth2 auth flow (optional, defaults to 3950; cli-auth uses 3951)
# Used by: packages/gmail
# GMAIL_AUTH_PORT=3951


# ============================================================
# Supabase (for podcast storage)
# ============================================================

# Supabase project URL (optional, for podcast RSS/storage)
# Used by: slack-bot (podcast publisher)
# SUPABASE_URL=https://xxxxxxxxxxxx.supabase.co

# Supabase service role key (optional, for podcast storage)
# Used by: slack-bot (podcast publisher)
# SUPABASE_SERVICE_ROLE_KEY=eyJxxxxxxxxxxxx


# ============================================================
# Cloudflare R2 Storage
# ============================================================

# R2 account ID (optional, for media storage)
# Used by: packages/r2-storage
# R2_ACCOUNT_ID=xxxxxxxxxxxx

# R2 access key ID (optional, for media storage)
# Used by: packages/r2-storage
# R2_ACCESS_KEY_ID=xxxxxxxxxxxx

# R2 secret access key (optional, for media storage)
# Used by: packages/r2-storage
# R2_SECRET_ACCESS_KEY=xxxxxxxxxxxx

# R2 bucket name (optional, defaults to "argus-media")
# Used by: packages/r2-storage
# R2_BUCKET_NAME=argus-media

# R2 public URL for serving media (optional)
# Used by: packages/r2-storage
# R2_PUBLIC_URL=https://media.yourdomain.com


# ============================================================
# SNS Publishing - X (Twitter)
# ============================================================

# X (Twitter) API credentials (optional, for X publishing)
# Used by: slack-bot (x-publisher)
# X_API_KEY=
# X_API_KEY_SECRET=
# X_ACCESS_TOKEN=
# X_ACCESS_TOKEN_SECRET=


# ============================================================
# SNS Publishing - Threads / Instagram
# ============================================================

# Threads API credentials (optional)
# Used by: slack-bot (threads-publisher)
# THREADS_USER_ID=
# THREADS_ACCESS_TOKEN=

# Threads OAuth2 app credentials (optional, for auth flow)
# Used by: slack-bot (threads-auth script)
# THREADS_APP_ID=
# THREADS_APP_SECRET=

# Instagram API credentials (optional)
# Used by: slack-bot (instagram-publisher)
# INSTAGRAM_USER_ID=
# INSTAGRAM_ACCESS_TOKEN=


# ============================================================
# SNS Publishing - Qiita / Zenn / GitHub / note
# ============================================================

# Qiita access token (optional)
# Used by: slack-bot (qiita-publisher)
# QIITA_ACCESS_TOKEN=

# Zenn repository path and username (optional)
# Used by: slack-bot (zenn-publisher)
# ZENN_REPO_PATH=/path/to/zenn-repo
# ZENN_USERNAME=your-zenn-username

# GitHub Personal Access Token for article publishing (optional)
# Used by: slack-bot (github-publisher)
# GITHUB_PERSONAL_ACCESS_TOKEN=ghp_xxxxxxxxxxxx

# note.com credentials (optional)
# Used by: slack-bot (note-publisher)
# NOTE_EMAIL=
# NOTE_PASSWORD=


# ============================================================
# SNS Publishing - TikTok
# ============================================================

# TikTok API credentials (optional, requires Developer Portal app)
# Used by: packages/tiktok
# TIKTOK_CLIENT_KEY=
# TIKTOK_CLIENT_SECRET=

# TikTok OAuth2 auth port (optional, defaults to 3952)
# Used by: packages/tiktok
# TIKTOK_AUTH_PORT=3952


# ============================================================
# Podcast
# ============================================================

# Podcast metadata (optional, for RSS feed generation)
# Used by: slack-bot (podcast-publisher)
# PODCAST_TITLE=Argus Podcast
# PODCAST_DESCRIPTION=AI-powered podcast
# PODCAST_AUTHOR=Host
# PODCAST_EMAIL=you@example.com
# PODCAST_CATEGORY=Technology
# PODCAST_IMAGE_URL=https://example.com/podcast-cover.jpg

# Podcast file directories (optional, defaults to .claude/agent-output paths)
# Used by: slack-bot (podcast-publisher)
# PODCAST_DRAFTS_DIR=
# PODCAST_OUTPUT_DIR=

# note.com drafts directory (optional)
# Used by: slack-bot (note-publisher)
# NOTE_DRAFTS_DIR=


# ============================================================
# Dashboard / URLs
# ============================================================

# Base URL for the dashboard (optional, defaults to http://localhost:3150)
# Used by: slack-bot (content-generators, podcast-publisher), agent-orchestrator (daily-news-canvas)
# DASHBOARD_BASE_URL=http://localhost:3150


# ============================================================
# Agent Orchestrator
# ============================================================

# Orchestrator port override (optional, defaults to 3950)
# Used by: slack-bot (inbox handler to call orchestrator API)
# ORCHESTRATOR_PORT=3950

# Agent retry delay in milliseconds (optional, for testing)
# Used by: agent-orchestrator (agent-executor)
# AGENT_RETRY_DELAY_MS=1000


# ============================================================
# Knowledge MCP Server
# ============================================================

# Knowledge role: "collector" or "executor" (required when running Knowledge MCP)
# Used by: packages/knowledge
# KNOWLEDGE_ROLE=collector

# Seed data directory (optional, defaults to packages/knowledge-personal/data)
# Used by: packages/knowledge-personal
# SEED_DATA_DIR=


# ============================================================
# Cloudflare Tunnel (Production only)
# ============================================================

# Cloudflare Tunnel token (required for production tunnel service)
# Used by: Dockerfile.tunnel / cloudflared
# TUNNEL_TOKEN=eyJxxxxxxxxxxxx
